#!/bin/sh

URI="$*"

printf '%s' "$URI" | xsel -ib

case $URI in
	*.webm|*.mp4|*.mkv)
		notify-send "Opening a video."
		exec mpv --no-ytdl --no-resume-playback "$URI"
		;;
	*youtube.com/*watch*)
		notify-send "Opening a YouTube video."
		exec mpv --ytdl-format="bestvideo[height<=360][vcodec=vp9]+worstaudio/bestvideo[height<=360]+worstaudio" \
			--no-resume-playback \
			"$URI"
		;;
	*) exec firefox-esr "$URI"
esac
